{"ast":null,"code":"import _slicedToArray from\"/Users/kayy/Library/CloudStorage/OneDrive-Personal/Documents/Code Projects/Portfolio/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,memo}from'react';import NavMenu from'../small/NavMenu';import ThemeSwitcher from'../small/ThemeSwitcher';import ScrollLock from'../small/ScrollLock';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=function Header(){// add mobile menu\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),menuTrigger=_useState2[0],setMenuTrigger=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),clicked=_useState4[0],setClicked=_useState4[1];var handleClick=function handleClick(){setClicked(function(prevState){return!prevState;});};var blurBackground=function blurBackground(blur){var bg=document.getElementById('PageContent');if(bg!=null){bg.style.filter=blur?'blur(10px)':'blur(0)';}};var handleMenuToggle=function handleMenuToggle(){setMenuTrigger(!menuTrigger);blurBackground(!menuTrigger);};// revert any changes if screen size is changed from mobile to 'large' (screen width >640px).\nvar _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),lastWidth=_useState6[0],setLastWidth=_useState6[1];useEffect(function(){var _visualViewport2;var threshold=640;var revertMobileChanges=function revertMobileChanges(){var _visualViewport;var currWidth=(_visualViewport=visualViewport)===null||_visualViewport===void 0?void 0:_visualViewport.width;// only run when going from mobile to larger.\nif(lastWidth<=threshold){// revert menu toggle and background blur to default values.\nif(currWidth!==undefined&&currWidth>threshold){blurBackground(false);setMenuTrigger(false);}}setLastWidth(currWidth!==undefined?currWidth:0);};(_visualViewport2=visualViewport)===null||_visualViewport2===void 0?void 0:_visualViewport2.addEventListener(\"resize\",revertMobileChanges);return function(){var _visualViewport3;return(_visualViewport3=visualViewport)===null||_visualViewport3===void 0?void 0:_visualViewport3.removeEventListener(\"resize\",revertMobileChanges);};},[lastWidth]);// add (dis)appearing effect.\nvar _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),toggle=_useState8[0],setToggle=_useState8[1];useEffect(function(){// save last page pos; 0 on page load.\nvar lastPos=window.pageYOffset;// only toggle header when 15 or more pixels have been scrolled.\nvar threshold=1;var getScrollDir=function getScrollDir(){var currPos=window.pageYOffset;// user scrolling down ? Don't show header.\nvar showHeader=currPos>lastPos?false:true;// user scrolling in a direction already detected? Don't update.\nif(showHeader!==toggle&&(lastPos-currPos>threshold||currPos-lastPos>threshold)){setToggle(showHeader);}else if(currPos===0){setToggle(true);}lastPos=currPos;};document.addEventListener(\"scroll\",getScrollDir);// remove EL as part of cleanup\nreturn function(){return document.removeEventListener(\"scroll\",getScrollDir);};},[toggle]);// prevent element reloads when toggle changed.\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"header outer \".concat(toggle?'show':toggle!==null?'hide':''),id:\"Header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"general-flex parent-height\",children:[/*#__PURE__*/_jsx(NavMenu,{menuTrigger:menuTrigger,extra_function:function extra_function(){blurBackground(false);setMenuTrigger(false);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"general-flex\",id:\"Interactables\",children:[/*#__PURE__*/_jsx(ThemeSwitcher,{}),/*#__PURE__*/_jsx(\"div\",{className:\"menu toggle\",onClick:function onClick(){handleClick();handleMenuToggle();},children:!menuTrigger?/*#__PURE__*/_jsx(\"div\",{className:\"parent-height\",children:/*#__PURE__*/_jsx(\"div\",{className:\"x-mark graphic medium invert \".concat(clicked?'rotateRight':'sideways'),onAnimationEnd:handleClick})}):/*#__PURE__*/_jsxs(\"div\",{className:\"parent-height\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"x-mark graphic medium invert \".concat(clicked?'rotateLeft':'straight'),onAnimationEnd:handleClick}),/*#__PURE__*/_jsx(ScrollLock,{})]})})]})]})})});};export default/*#__PURE__*/memo(Header);","map":{"version":3,"names":["useEffect","useState","memo","NavMenu","ThemeSwitcher","ScrollLock","Header","menuTrigger","setMenuTrigger","clicked","setClicked","handleClick","prevState","blurBackground","blur","bg","document","getElementById","style","filter","handleMenuToggle","lastWidth","setLastWidth","threshold","revertMobileChanges","currWidth","visualViewport","width","undefined","addEventListener","removeEventListener","toggle","setToggle","lastPos","window","pageYOffset","getScrollDir","currPos","showHeader"],"sources":["/Users/kayy/Library/CloudStorage/OneDrive-Personal/Documents/Code Projects/Portfolio/client/src/pages/components/large/Header.tsx"],"sourcesContent":["import { useEffect, useState, memo } from 'react'\nimport NavMenu from '../small/NavMenu' ;\nimport ThemeSwitcher from '../small/ThemeSwitcher' ;\nimport ScrollLock from '../small/ScrollLock' ;\n\n\nconst Header = () => {\n\n    // add mobile menu\n    const [menuTrigger, setMenuTrigger] = useState(false) ;\n    const [clicked, setClicked] = useState(false) ;\n\n    const handleClick = () => {\n        setClicked(prevState => {\n            return !prevState\n        })\n    }\n\n    const blurBackground = (blur:boolean) => {\n        let bg = document.getElementById('PageContent') ;\n\n        if (bg != null){\n            bg.style.filter = blur? 'blur(10px)' : 'blur(0)' ;\n        }\n    }\n\n    const handleMenuToggle = () => {\n        setMenuTrigger(!menuTrigger) ;\n\n        blurBackground(!menuTrigger) ;\n    }\n\n    // revert any changes if screen size is changed from mobile to 'large' (screen width >640px).\n    const [lastWidth, setLastWidth] = useState(0) ;\n    useEffect(() => {\n        let threshold = 640 ;\n\n        const revertMobileChanges = () => {\n\n            let currWidth = visualViewport?.width ;\n\n            // only run when going from mobile to larger.\n            if (lastWidth <= threshold){\n                // revert menu toggle and background blur to default values.\n                if ( currWidth !== undefined && currWidth > threshold){\n                    blurBackground(false) ;\n                    setMenuTrigger(false) ;\n                }\n            }   \n            setLastWidth(currWidth !== undefined ? currWidth : 0) ;\n        }\n    \n        visualViewport?.addEventListener(\"resize\", revertMobileChanges) ;\n\n        return ( () => visualViewport?.removeEventListener(\"resize\", revertMobileChanges)) ;\n    }, [lastWidth]) ;\n    \n\n    // add (dis)appearing effect.\n    const [toggle, setToggle] = useState<boolean | null>(null) ;\n\n    useEffect(() => {\n\n        // save last page pos; 0 on page load.\n        let lastPos = window.pageYOffset ;\n\n        // only toggle header when 15 or more pixels have been scrolled.\n        let threshold = 1 ;\n\n        const getScrollDir = () => {\n            let currPos = window.pageYOffset ;\n\n            // user scrolling down ? Don't show header.\n            let showHeader = currPos > lastPos ? false : true ;\n\n            // user scrolling in a direction already detected? Don't update.\n            if ( showHeader !== toggle && ( \n                (lastPos - currPos > threshold) || (currPos - lastPos > threshold)))\n            {\n                setToggle(showHeader) ;\n            } else if (currPos === 0) {\n                setToggle(true) ;\n            }\n\n            lastPos = currPos ;\n        } ;\n\n        document.addEventListener(\"scroll\", getScrollDir) ;\n\n        // remove EL as part of cleanup\n        return (() => document.removeEventListener(\"scroll\", getScrollDir)) ;\n    }, [ toggle ]) ; // prevent element reloads when toggle changed.\n\n    return (\n        <div className={`header outer ${toggle? 'show' : toggle!== null ? 'hide' : ''}`} id='Header'>\n            <div className='inner'>\n                < div className='general-flex parent-height'>\n                    <NavMenu menuTrigger={menuTrigger} extra_function={() => { blurBackground(false) ; setMenuTrigger(false) ; }}/>\n                    <div className='general-flex' id=\"Interactables\">\n                        <ThemeSwitcher />\n                        <div className='menu toggle' onClick={() => { handleClick() ; handleMenuToggle() ;  }}> \n                            {\n                                !menuTrigger ?\n                                    <div className='parent-height'>\n                                        <div className={`x-mark graphic medium invert ${clicked? 'rotateRight' : 'sideways'}`} onAnimationEnd={handleClick} />\n                                    </div>\n                                    :\n                                    <div className='parent-height'>\n                                        <div className={`x-mark graphic medium invert ${clicked? 'rotateLeft' : 'straight'}`} onAnimationEnd={handleClick} />\n                                        <ScrollLock />\n                                    </div>\n                            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    )\n}\n\nexport default memo(Header) ;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}